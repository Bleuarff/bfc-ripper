<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval';" />
    <title>BFC Ripper</title>
    <script src='lib/vue.js'></script>
    <script src='src/utils.js'></script>
    <script src='src/track.js'></script>
    <script src='src/bfc-log.js'></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="app">
      <div id="metadata">
        <div id="cdinfo">
          <div>
            <label>Artist</label><input type="text" placeholder="Album Artist" v-model="albumArtist" class="wide">
          </div>
          <div>
            <label>Album</label><input type="text" placeholder="Album Title" v-model="albumTitle" class="wide">
          </div>
          <div>
            <label>Year</label><input type="number" placeholder="Release Year" v-model="releaseYear">
            <label>Genre</label><input type="text" placeholder="Genre" v-model="genre">
            <label>CD #</label><input type="text" v-model="cdNumber">
          </div>

        </div>
        <div id="image-ctnr">
          <input id="fileInput" type="file" accept="image/jpeg, image/png" v-on:change="selectImage"/>
          <div class="img">
            <img :src="imageUrl">
          </div>
        </div>

        <table id="tracks">
          <thead>
            <th>#</th>
            <th>Artist</th>
            <th>Title</th>
            <th>Length</th>
            <th>Start</th>
          </thead>
          <tbody id="tbody">
            <tr v-for="tk in tracks">
              <td>{{tk.id}}</td>
              <td><input type="text" placeholder="track artist" v-model="tk.artist"></td>
              <td><input type="text" placeholder="track title" v-model="tk.title"></td>
              <td>{{tk.length}}</td>
              <td>{{tk.start}}</td>
            </tr>
          </tbody>
        </table>

        <button id="rip" v-on:click="rip()" :disabled="ripping">Rip it!</button>

        <button id="cancel" v-on:click="cancel" v-show="ripping">Cancel</button>
      </div>

      <h2>Logs</h2>
      <div id="logs">
        <bfc-log id="log-paranoia" ref="log-paranoia"></bfc-log>
        <bfc-log id="log-flac" ref="log-flac"></bfc-log>
        <bfc-log id="log-lame" ref="log-lame"></bfc-log>
      </div>
    </div>
    <script src="src/app.js"></script>
  </body>
</html>
